<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
   <title>ALAAP - Fare & Payment</title>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
   <style>
       :root {
           --primary-blue: #2563EB;
           --secondary-blue: #1D4ED8;
           --light-blue: #EFF6FF;
           --text-dark: #1F2937;
           --text-muted: #6B7280;
           --bg-gray: #F3F4F6;
           --white: #FFFFFF;
           --border-color: #E5E7EB;
           --success: #10B981;
           --error: #EF4444;
           --warning: #F59E0B;
           --accent-orange: #F97316;
           --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
           --radius: 16px;
       }

       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
           font-family: 'Poppins', sans-serif;
           -webkit-tap-highlight-color: transparent;
       }

       html, body {
           height: 100%;
           width: 100%;
           overflow: hidden;
       }

       body {
           background-color: var(--bg-gray);
           display: flex;
           justify-content: center;
           align-items: center;
       }

       @media (min-width: 415px) {
           body {
               background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
               padding: 20px;
           }
       }

       .app-container {
           width: 100%;
           height: 100%;
           max-width: 100%;
           max-height: 100%;
           background-color: var(--bg-gray);
           position: relative;
           overflow: hidden;
           display: flex;
           flex-direction: column;
       }

       @media (min-width: 415px) {
           .app-container {
               width: 375px;
               height: 812px;
               max-width: 375px;
               max-height: 812px;
               border-radius: 40px;
               box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
           }
       }

       /* Header */
       .header {
           background: linear-gradient(135deg, var(--secondary-blue), var(--primary-blue));
           padding: 50px 24px 24px;
           position: relative;
           z-index: 10;
       }

       .header-content {
           display: flex;
           align-items: center;
           gap: 15px;
       }

       .back-btn {
           width: 40px;
           height: 40px;
           background: rgba(255,255,255,0.2);
           border: none;
           border-radius: 12px;
           color: var(--white);
           font-size: 18px;
           cursor: pointer;
           display: flex;
           align-items: center;
           justify-content: center;
           transition: all 0.3s ease;
       }

       .back-btn:hover {
           background: rgba(255,255,255,0.3);
           transform: translateX(-3px);
       }

       .header-title {
           color: var(--white);
           font-size: 20px;
           font-weight: 600;
       }

       /* Scrollable Content */
       .content {
           flex: 1;
           overflow-y: auto;
           padding: 20px;
           padding-bottom: 100px;
       }

       .content::-webkit-scrollbar {
           width: 0;
       }

       /* Route Summary Card */
       .route-card {
           background: var(--white);
           border-radius: var(--radius);
           padding: 20px;
           margin-bottom: 20px;
           box-shadow: var(--shadow);
           position: relative;
           overflow: hidden;
       }

       .route-card::before {
           content: '';
           position: absolute;
           top: 0;
           left: 0;
           width: 4px;
           height: 100%;
           background: linear-gradient(to bottom, var(--primary-blue), var(--accent-orange));
       }

       .locations {
           display: flex;
           flex-direction: column;
           gap: 16px;
           position: relative;
           margin-bottom: 16px;
       }

       .location-row {
           display: flex;
           align-items: flex-start;
           gap: 12px;
       }

       .location-icon {
           width: 32px;
           height: 32px;
           border-radius: 8px;
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 14px;
           flex-shrink: 0;
           margin-top: 2px;
       }

       .pickup .location-icon {
           background: var(--light-blue);
           color: var(--primary-blue);
       }

       .dropoff .location-icon {
           background: #FEF3C7;
           color: var(--accent-orange);
       }

       .location-info h4 {
           font-size: 14px;
           font-weight: 600;
           color: var(--text-dark);
           margin-bottom: 2px;
       }

       .location-info p {
           font-size: 12px;
           color: var(--text-muted);
           line-height: 1.4;
       }

       .connector {
           position: absolute;
           left: 15px;
           top: 40px;
           width: 2px;
           height: 20px;
           border-left: 2px dashed var(--border-color);
       }

       .route-stats {
           display: flex;
           gap: 20px;
           padding-top: 16px;
           border-top: 1px solid var(--border-color);
       }

       .stat {
           display: flex;
           align-items: center;
           gap: 6px;
           font-size: 13px;
           color: var(--text-muted);
       }

       .stat i {
           color: var(--primary-blue);
       }

       /* Section Cards */
       .section-card {
           background: var(--white);
           border-radius: var(--radius);
           padding: 20px;
           margin-bottom: 16px;
           box-shadow: var(--shadow);
       }

       .section-title {
           font-size: 16px;
           font-weight: 600;
           color: var(--text-dark);
           margin-bottom: 16px;
           display: flex;
           align-items: center;
           gap: 8px;
       }

       .section-title i {
           color: var(--primary-blue);
           font-size: 18px;
       }

       /* Fare Breakdown */
       .fare-row {
           display: flex;
           justify-content: space-between;
           align-items: center;
           padding: 12px 0;
           border-bottom: 1px solid var(--border-color);
           font-size: 14px;
       }

       .fare-row:last-child {
           border-bottom: none;
       }

       .fare-label {
           color: var(--text-muted);
           display: flex;
           align-items: center;
           gap: 8px;
       }

       .fare-value {
           font-weight: 600;
           color: var(--text-dark);
       }

       .fare-note {
           font-size: 11px;
           color: var(--text-muted);
           margin-top: 4px;
       }

       .total-row {
           padding-top: 16px;
           margin-top: 4px;
           border-top: 2px solid var(--border-color);
       }

       .total-row .fare-label {
           color: var(--text-dark);
           font-weight: 700;
           font-size: 16px;
       }

       .total-row .fare-value {
           color: var(--primary-blue);
           font-size: 24px;
           font-weight: 700;
       }

       /* ETA Display */
       .eta-display {
           background: linear-gradient(135deg, var(--light-blue), #DBEAFE);
           border-radius: 12px;
           padding: 16px;
           display: flex;
           align-items: center;
           gap: 12px;
           margin-top: 16px;
       }

       .eta-icon {
           width: 48px;
           height: 48px;
           background: var(--primary-blue);
           border-radius: 12px;
           display: flex;
           align-items: center;
           justify-content: center;
           color: var(--white);
           font-size: 24px;
       }

       .eta-info h4 {
           font-size: 13px;
           color: var(--text-muted);
           margin-bottom: 2px;
       }

       .eta-info p {
           font-size: 20px;
           font-weight: 700;
           color: var(--primary-blue);
       }

       /* Payment Methods */
       .payment-options {
           display: flex;
           flex-direction: column;
           gap: 12px;
       }

       .payment-card {
           display: flex;
           align-items: center;
           gap: 16px;
           padding: 16px;
           border: 2px solid var(--border-color);
           border-radius: 12px;
           cursor: pointer;
           transition: all 0.3s ease;
           background: var(--white);
       }

       .payment-card:hover {
           border-color: var(--primary-blue);
           transform: translateY(-2px);
           box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
       }

       .payment-card.active {
           border-color: var(--primary-blue);
           background: var(--light-blue);
       }

       .payment-icon {
           width: 48px;
           height: 48px;
           border-radius: 12px;
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 24px;
           flex-shrink: 0;
       }

       .payment-icon.cod {
           background: #FEF3C7;
           color: var(--accent-orange);
       }

       .payment-icon.gcash {
           background: #E0F2FE;
           color: #0077B6;
       }

       .payment-details {
           flex: 1;
       }

       .payment-details h4 {
           font-size: 15px;
           font-weight: 600;
           color: var(--text-dark);
           margin-bottom: 2px;
       }

       .payment-details p {
           font-size: 12px;
           color: var(--text-muted);
       }

       .check-icon {
           width: 24px;
           height: 24px;
           border-radius: 50%;
           background: var(--border-color);
           display: flex;
           align-items: center;
           justify-content: center;
           color: var(--white);
           font-size: 12px;
           transition: all 0.3s ease;
       }

       .payment-card.active .check-icon {
           background: var(--primary-blue);
       }

       /* GCash Details */
       .gcash-details {
           margin-top: 16px;
           padding-top: 16px;
           border-top: 1px solid var(--border-color);
           display: none;
       }

       .gcash-details.active {
           display: block;
           animation: slideDown 0.3s ease;
       }

       @keyframes slideDown {
           from { opacity: 0; transform: translateY(-10px); }
           to { opacity: 1; transform: translateY(0); }
       }

       .input-group {
           margin-bottom: 12px;
       }

       .input-group label {
           display: block;
           font-size: 12px;
           font-weight: 600;
           color: var(--text-dark);
           margin-bottom: 6px;
       }

       .input-group input {
           width: 100%;
           padding: 12px 16px;
           border: 2px solid var(--border-color);
           border-radius: 10px;
           font-size: 14px;
           outline: none;
           transition: all 0.3s;
       }

       .input-group input:focus {
           border-color: var(--primary-blue);
           box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
       }

       /* Bottom Action */
       .bottom-action {
           position: absolute;
           bottom: 0;
           left: 0;
           right: 0;
           background: var(--white);
           padding: 16px 24px 30px;
           border-top: 1px solid var(--border-color);
           box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
           z-index: 100;
       }

       .btn-confirm {
           width: 100%;
           padding: 16px;
           background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
           color: var(--white);
           border: none;
           border-radius: 16px;
           font-size: 16px;
           font-weight: 600;
           cursor: pointer;
           box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
           transition: all 0.3s ease;
           display: flex;
           align-items: center;
           justify-content: center;
           gap: 8px;
       }

       .btn-confirm:hover {
           transform: translateY(-2px);
           box-shadow: 0 12px 24px rgba(37, 99, 235, 0.4);
       }

       .btn-confirm:disabled {
           background: var(--text-muted);
           cursor: not-allowed;
           transform: none;
           box-shadow: none;
       }

       /* Promo Code */
       .promo-section {
           margin-bottom: 16px;
       }

       .promo-input-wrapper {
           display: flex;
           gap: 8px;
       }

       .promo-input {
           flex: 1;
           padding: 12px 16px;
           border: 2px solid var(--border-color);
           border-radius: 10px;
           font-size: 14px;
           outline: none;
           transition: all 0.3s;
       }

       .promo-input:focus {
           border-color: var(--primary-blue);
       }

       .btn-apply {
           padding: 12px 20px;
           background: var(--primary-blue);
           color: var(--white);
           border: none;
           border-radius: 10px;
           font-size: 14px;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.3s;
       }

       .btn-apply:hover {
           background: var(--secondary-blue);
       }

       .promo-applied {
           display: none;
           align-items: center;
           gap: 8px;
           padding: 12px;
           background: #D1FAE5;
           border-radius: 10px;
           margin-top: 8px;
       }

       .promo-applied.active {
           display: flex;
       }

       .promo-applied i {
           color: var(--success);
       }

       .promo-applied span {
           font-size: 13px;
           color: var(--success);
           font-weight: 500;
       }

       /* Animations */
       @keyframes slideUp {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }

       .section-card {
           animation: slideUp 0.5s ease forwards;
       }

       .section-card:nth-child(2) { animation-delay: 0.1s; }
       .section-card:nth-child(3) { animation-delay: 0.2s; }
   </style>
<base target="_blank">
</head>
<body>

   <div class="app-container">
       <!-- Header -->
       <div class="header">
           <div class="header-content">
               <button class="back-btn" onclick="goBack()">
                   <i class="fa-solid fa-arrow-left"></i>
               </button>
               <h1 class="header-title">Fare & Payment</h1>
           </div>
       </div>

       <!-- Scrollable Content -->
       <div class="content">
           <!-- Route Summary -->
           <div class="route-card">
               <div class="locations">
                   <div class="connector"></div>
                   <div class="location-row pickup">
                       <div class="location-icon">
                           <i class="fa-solid fa-location-dot"></i>
                       </div>
                       <div class="location-info">
                           <h4>Pickup Location</h4>
                           <p>Alaminos City Hall, Alaminos, Pangasinan</p>
                       </div>
                   </div>
                   <div class="location-row dropoff">
                       <div class="location-icon">
                           <i class="fa-solid fa-flag-checkered"></i>
                       </div>
                       <div class="location-info">
                           <h4>Drop-off Location</h4>
                           <p>SM City Urdaneta, Urdaneta City, Pangasinan</p>
                       </div>
                   </div>
               </div>

               <div class="route-stats">
                   <div class="stat">
                       <i class="fa-solid fa-road"></i>
                       <span>12.5 km</span>
                   </div>
                   <div class="stat">
                       <i class="fa-solid fa-motorcycle"></i>
                       <span>Motorcycle</span>
                   </div>
               </div>
           </div>

           <!-- Fare Calculation -->
           <div class="section-card">
               <h3 class="section-title">
                   <i class="fa-solid fa-calculator"></i>
                   Fare Breakdown
               </h3>
               
               <div class="fare-row">
                   <div>
                       <div class="fare-label">
                           <i class="fa-solid fa-flag"></i>
                           Base Fare
                       </div>
                       <div class="fare-note">First 2 kilometers</div>
                   </div>
                   <span class="fare-value">₱50.00</span>
               </div>

               <div class="fare-row">
                   <div>
                       <div class="fare-label">
                           <i class="fa-solid fa-road"></i>
                           Distance Fare
                       </div>
                       <div class="fare-note">10.5 km × ₱8.00/km</div>
                   </div>
                   <span class="fare-value">₱84.00</span>
               </div>

               <div class="fare-row">
                   <div class="fare-label">
                       <i class="fa-solid fa-briefcase"></i>
                       Service Fee
                   </div>
                   <span class="fare-value">₱15.00</span>
               </div>

               <div class="fare-row" id="discountRow" style="display: none; color: var(--success);">
                   <div class="fare-label">
                       <i class="fa-solid fa-tag"></i>
                       Promo Discount
                   </div>
                   <span class="fare-value" style="color: var(--success);">-₱20.00</span>
               </div>

               <div class="fare-row total-row">
                   <span class="fare-label">Total Fare</span>
                   <span class="fare-value" id="totalFare">₱149.00</span>
               </div>

               <!-- ETA Display -->
               <div class="eta-display">
                   <div class="eta-icon">
                       <i class="fa-regular fa-clock"></i>
                   </div>
                   <div class="eta-info">
                       <h4>Estimated Time of Arrival</h4>
                       <p>25 - 30 minutes</p>
                   </div>
               </div>
           </div>

           <!-- Promo Code -->
           <div class="section-card promo-section">
               <h3 class="section-title">
                   <i class="fa-solid fa-ticket"></i>
                   Promo Code
               </h3>
               <div class="promo-input-wrapper">
                   <input type="text" class="promo-input" id="promoInput" placeholder="Enter promo code">
                   <button class="btn-apply" onclick="applyPromo()">Apply</button>
               </div>
               <div class="promo-applied" id="promoApplied">
                   <i class="fa-solid fa-check-circle"></i>
                   <span>Promo code ALAAP20 applied!</span>
               </div>
           </div>

           <!-- Payment Method -->
           <div class="section-card">
               <h3 class="section-title">
                   <i class="fa-solid fa-credit-card"></i>
                   Payment Method
               </h3>
               
               <div class="payment-options">
                   <div class="payment-card active" onclick="selectPayment('cod', this)">
                       <div class="payment-icon cod">
                           <i class="fa-solid fa-money-bill-wave"></i>
                       </div>
                       <div class="payment-details">
                           <h4>Cash on Delivery</h4>
                           <p>Pay with cash to the rider</p>
                       </div>
                       <div class="check-icon">
                           <i class="fa-solid fa-check"></i>
                       </div>
                   </div>

                   <div class="payment-card" onclick="selectPayment('gcash', this)">
                       <div class="payment-icon gcash">
                           <i class="fa-solid fa-wallet"></i>
                       </div>
                       <div class="payment-details">
                           <h4>GCash</h4>
                           <p>Pay via GCash e-wallet</p>
                       </div>
                       <div class="check-icon">
                           <i class="fa-solid fa-check"></i>
                       </div>
                   </div>
               </div>

               <!-- GCash Details -->
               <div class="gcash-details" id="gcashDetails">
                   <div class="input-group">
                       <label>GCash Number</label>
                       <input type="tel" placeholder="09XX XXX XXXX" maxlength="11">
                   </div>
                   <div class="input-group">
                       <label>Account Name</label>
                       <input type="text" placeholder="Juan Dela Cruz">
                   </div>
               </div>
           </div>
       </div>

       <!-- Bottom Action -->
       <div class="bottom-action">
           <button class="btn-confirm" onclick="confirmBooking()">
               <span>Confirm Payment</span>
               <i class="fa-solid fa-arrow-right"></i>
           </button>
       </div>
   </div>

   <script>
       let currentPayment = 'cod';
       let baseFare = 149;
       let discountApplied = false;

       function selectPayment(method, card) {
           // Remove active from all cards
           document.querySelectorAll('.payment-card').forEach(c => {
               c.classList.remove('active');
           });
           
           // Add active to selected
           card.classList.add('active');
           currentPayment = method;

           // Show/hide GCash details
           const gcashDetails = document.getElementById('gcashDetails');
           if (method === 'gcash') {
               gcashDetails.classList.add('active');
           } else {
               gcashDetails.classList.remove('active');
           }
       }

       function applyPromo() {
           const input = document.getElementById('promoInput');
           const code = input.value.trim().toUpperCase();
           
           if (code === 'ALAAP20' && !discountApplied) {
               discountApplied = true;
               document.getElementById('promoApplied').classList.add('active');
               document.getElementById('discountRow').style.display = 'flex';
               
               // Update total
               const newTotal = baseFare - 20;
               document.getElementById('totalFare').textContent = '₱' + newTotal.toFixed(2);
               
               // Visual feedback
               input.style.borderColor = 'var(--success)';
               setTimeout(() => {
                   input.style.borderColor = '';
               }, 2000);
           } else if (discountApplied) {
               alert('Promo code already applied!');
           } else {
               alert('Invalid promo code!');
               input.style.borderColor = 'var(--error)';
               setTimeout(() => {
                   input.style.borderColor = '';
               }, 2000);
           }
       }

       function confirmBooking() {
           const btn = document.querySelector('.btn-confirm');
           const originalContent = btn.innerHTML;
           
           btn.disabled = true;
           btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Processing...';
           
           setTimeout(() => {
               if (currentPayment === 'gcash') {
                   btn.innerHTML = '<i class="fa-solid fa-mobile-screen"></i> Redirecting to GCash...';
               } else {
                   btn.innerHTML = '<i class="fa-solid fa-check"></i> Payment Confirmed!';
                   btn.style.background = 'var(--success)';
               }
               
               setTimeout(() => {
                   window.location.href = 'Confimation.html'; // ✅
               }, 1000);
           }, 1500);
       }

       function goBack() {
           window.history.back();
       }

       // Allow Enter key for promo code
       document.getElementById('promoInput').addEventListener('keypress', function(e) {
           if (e.key === 'Enter') {
               applyPromo();
           }
       });
   </script>
</body>
</html>